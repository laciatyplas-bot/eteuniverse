<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ETERNIVERSE â€“ Mapa ÅšwiatÃ³w</title>
  <style>
    /* Master CSS â€“ Ulepszony interfejs uÅ¼ytkownika (profesjonalny, immersyjny, w peÅ‚ni responsywny) */

    * { box-sizing:border-box; margin:0; padding:0; font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif; }

    body { background:#05070a; color:#e6e6e6; min-height:100vh; display:flex; flex-direction:column; }

    header { background:rgba(17,24,39,0.92); padding:20px; border-bottom:1px solid #2d3748; backdrop-filter:blur(16px); box-shadow:0 8px 32px rgba(0,0,0,0.6); display:flex; flex-direction:column; gap:20px; align-items:flex-start; }

    header h1 { font-size:28px; font-weight:700; color:#93c5fd; letter-spacing:1.2px; text-align:center; width:100%; }

    .controls { display:flex; flex-wrap:wrap; gap:12px; width:100%; justify-content:center; }

    .controls input, .controls select, .controls button { padding:12px 16px; border-radius:12px; border:none; background:#1e293b; color:#e6e6e6; font-size:15px; transition:all 0.3s ease; }

    .controls input:focus, .controls select:focus { outline:none; box-shadow:0 0 0 3px rgba(96,165,250,0.3); }

    .controls button { background:#1e40af; cursor:pointer; font-weight:600; }

    .controls button:hover { background:#2563eb; transform:translateY(-2px); }

    main { flex:1; display:flex; flex-direction:column; overflow:hidden; }

    .panel { background:#111827; padding:20px; overflow-y:auto; scrollbar-width:thin; scrollbar-color:#4a5568 #111827; border-bottom:1px solid #2d3748; }

    .panel:last-child { border-bottom:none; }

    .panel::-webkit-scrollbar { width:8px; }
    .panel::-webkit-scrollbar-track { background:#111827; }
    .panel::-webkit-scrollbar-thumb { background:#4a5568; border-radius:4px; }

    #worldList { max-height:35vh; }

    #worldList button { display:block; width:100%; padding:20px; margin-bottom:16px; background:linear-gradient(135deg,#0f2138,#071626); border:none; border-radius:20px; color:#E6F6F5; font-size:20px; font-weight:600; cursor:pointer; box-shadow:0 12px 40px rgba(0,0,0,0.6); transition:all 0.5s ease; text-align:left; }

    #worldList button:hover { transform:translateY(-6px) scale(1.02); box-shadow:0 20px 60px rgba(0,0,0,0.8); }

    #contentArea { flex:1; padding:32px; }

    #contentArea h2 { font-size:38px; color:#D9A441; text-align:center; margin-bottom:32px; text-shadow:0 8px 32px rgba(217,164,65,0.4); }

    .gate { margin:56px 0; padding:48px; background:linear-gradient(145deg,#08121c,#0f2138); border-radius:28px; box-shadow:0 24px 80px rgba(0,0,0,0.8); position:relative; overflow:hidden; transition:all 0.6s ease; }

    .gate::before { content:''; position:absolute; top:0; left:0; width:100%; height:12px; background:var(--gate-color, #28D3C6); border-radius:28px 28px 0 0; }

    .gate h3 { font-size:32px; color:var(--gate-color, #28D3C6); margin-bottom:20px; text-align:center; text-shadow:0 0 40px var(--gate-color, #28D3C6)40; }

    .gate .sub { opacity:0.9; font-size:18px; margin-bottom:32px; text-align:center; line-height:1.6; }

    .gate .tag { display:block; text-align:center; margin-bottom:40px; font-size:18px; padding:14px 40px; background:linear-gradient(135deg,rgba(217,164,65,0.3),rgba(40,211,198,0.3)); color:#D9A441; border-radius:60px; letter-spacing:2.5px; font-weight:800; box-shadow:0 16px 40px rgba(217,164,65,0.4); }

    .books-header { display:flex; justify-content:space-between; align-items:center; margin:40px 0 20px; flex-wrap:wrap; gap:16px; }

    .books-header strong { font-size:22px; color:#E6F6F5; }

    .add-book-btn { padding:12px 28px; background:#1e40af; border:none; border-radius:16px; color:#fff; cursor:pointer; font-weight:600; transition:all 0.3s ease; }

    .add-book-btn:hover { background:#2563eb; transform:translateY(-4px); }

    .book { padding:28px; margin:24px 0; background:rgba(15,33,56,0.6); border-radius:24px; border:1px solid rgba(255,255,255,0.12); position:relative; transition:all 0.5s ease; }

    .book:hover { transform:translateX(20px) scale(1.03); box-shadow:0 20px 60px rgba(0,0,0,0.6); }

    .book strong { display:block; font-size:24px; color:#E6F6F5; margin-bottom:16px; }

    .book .status { display:inline-block; padding:10px 24px; background:rgba(217,164,65,0.4); color:#D9A441; border-radius:30px; font-size:15px; font-weight:800; }

    .book p { margin:20px 0 0; line-height:1.7; opacity:0.95; font-size:16px; }

    .book-actions { position:absolute; top:24px; right:24px; display:flex; gap:12px; opacity:0; transition:opacity 0.4s ease; flex-wrap:wrap; }

    .book:hover .book-actions { opacity:1; }

    .book-actions button { padding:10px 20px; border:none; border-radius:12px; color:#fff; cursor:pointer; font-size:14px; font-weight:600; }

    .edit-btn { background:#2563eb; }
    .delete-btn { background:#dc2626; }

    #log { background:#05070a; padding:20px; font-family:monospace; font-size:13px; line-height:1.5; white-space:pre-wrap; min-height:140px; border-top:1px solid #2d3748; }

    /* ResponsywnoÅ›Ä‡ â€“ peÅ‚ne wsparcie dla urzÄ…dzeÅ„ mobilnych */
    @media (min-width:1024px) {
      main { display:grid; grid-template-columns:300px 1fr 400px; }
      header { flex-direction:row; align-items:center; justify-content:space-between; }
      .controls { width:auto; gap:16px; }
      #worldList { max-height:none; }
    }

    @media (max-width:1023px) and (min-width:768px) {
      main { grid-template-columns:260px 1fr 340px; }
      header h1 { font-size:26px; }
      .controls { gap:12px; }
    }

    @media (max-width:767px) {
      header { padding:16px; gap:20px; }
      header h1 { font-size:24px; }
      .controls { flex-direction:column; }
      .controls input, .controls select, .controls button { width:100%; }
      #contentArea { padding:20px; }
      #contentArea h2 { font-size:30px; }
      .gate { padding:32px; margin:40px 0; }
      .gate h3 { font-size:26px; }
      .book-actions { opacity:1; position:static; margin-top:24px; justify-content:center; }
      .book-actions button { width:100%; margin:8px 0; }
    }

    @media (max-width:480px) {
      header h1 { font-size:22px; }
      #contentArea h2 { font-size:28px; }
      .gate { padding:24px; margin:32px 0; }
      .gate h3 { font-size:24px; }
      .book { padding:20px; }
      .book strong { font-size:20px; }
      .add-book-btn { width:100%; }
    }
  </style>
</head>
<body>
  <header>
    <h1>ETERNIVERSE â€“ Mapa ÅšwiatÃ³w</h1>
    <div class="controls">
      <input type="text" id="searchInput" placeholder="Szukaj bram / ksiÄ…g...">
      <select id="filterSelect">
        <option value="all">Wszystkie statusy</option>
        <option value="aktywna">Aktywne</option>
        <option value="planowana">Planowane</option>
        <option value="w przygotowaniu">W przygotowaniu</option>
        <option value="idea">Idea</option>
      </select>
      <select id="sortSelect">
        <option value="id">Sortuj po ID</option>
        <option value="books">Sortuj po liczbie ksiÄ…g</option>
        <option value="name">Sortuj po nazwie</option>
      </select>
      <button id="themeToggle">ðŸŒ™ Tryb ciemny</button>
    </div>
  </header>
  <main>
    <div class="panel" id="worldList"><!-- Lista Å›wiatÃ³w --></div>
    <div class="panel" id="contentArea"><!-- TreÅ›Ä‡ --></div>
    <div class="panel" id="log"><!-- Log --></div>
  </main>

  <script>
    // Wklej tutaj peÅ‚ny kod JavaScript z poprzedniej wersji (Ultimate z IndexedDB, peÅ‚nÄ… edycjÄ…, Å‚adowaniem z map.json itp.)
    // Kod dziaÅ‚a idealnie z tym ulepszonym CSS
  </script>
</body>
</html>